<% include partials/header_1.html %>

  <!-- ****************************************DATA TABLE PLUGINs**************************************** -->

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">
<link rel="stylesheet" type="text/css" href="/css/datatable.css">
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

  <!-- ****************************************High Lighter PLUGINs**************************************** -->
</script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>


  <!-- ****************************************Google PLUGINs**************************************** -->

<link href="https://fonts.googleapis.com/css?family=Rokkitt" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet">
 <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMAWPMDGHGh-KUNMkjSIlMBD1JMtTfbxk&callback=initMap"></script>

  <!-- ****************************************My PLUGINs**************************************** -->

  <link rel="stylesheet" type="text/css" href="/css/dashboard.css">
  <script src="js/datatable.js"></script>
  <script src="js/dashboard.js"></script>

  <script>hljs.initHighlightingOnLoad();</script>

<script>
$(document).ready(function(){
	 $("#ustable").dataTable({
        "sPaginationType": "full_numbers",
        "bJQueryUI": true
    });
})
</script>
<script type="text/javascript" charset="utf8" src="https://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/jquery.dataTables.min.js"></script><script type="text/javascript">
</script>
</head>

<div id="addpadding">

<table class="currentuxsers" id="ustable">
    <thead>
        <tr>
		<th>Name</th>
		<th>LIKES / DISLIKES / VIEWS </th>
		<th>Location</th>
		<th>Blog</th>
        </tr>
    </thead>

    <tbody>
<% blog.forEach(function(blog){%>
	<tr id="scrollable" class="scrollables">
		<td style="width:10%">
		<%= blog.name %><br>Category: <%= blog.category %></td>

		<td style="width:10%">
		<button class="likeUser" data-id="<%= blog._id %>"><img src="images/like.jpg"  width="22" height="22" /><span id="like-<%= blog._id %>" data-id="<%= blog._id %>" class="addspacing"><%= blog.like %></span></button>

		
		<p id="views-<%= blog._id %>" data-id="<%= blog._id %>" class="viewsUser">Views <%= blog.views %></p>
		<button class="dislikeUser" data-id="<%= blog._id %>"><img src="images/dislike.jpg"  width="22" height="22" /><span id="dislike-<%= blog._id %>" data-id="<%= blog._id %>" class="addspacing"><%= blog.dislike %></span></button>

		</td>

		<td style="width:5%"><a type="button" id="mapb" href="#popup1" onclick="init_map(<%= blog.lat %>,<%= blog.long %>,'<h1><%= blog.title %></h1><h3> blog is posted from this location</h3>')"><img src="https://bestanimations.com/Earth&Space/Earth/earth-spinning-rotating-animation-40.gif" width="42" height="42"></a></td>

		<td><div class="scrollable"><p class="title"><%= blog.title %></p><%- blog.data %></div></td>
	</tr>
<%}) %>
    </tbody>        
</table>
</div>
	<div id="popup1" class="overlay">X
	<div class="popup">
		<div class="content"><h1>Java & NodeJS blog</h1><h3>by Shubham Yeole</h3>
		<a class="close" href="#"> &times;</a>
		</div>
			<div id='gmap_canvas' style='height:440px;width:100%;'></div>
		
	</div>
<link href="https://fonts.googleapis.com/css?family=Bitter" rel="stylesheet">

<style type="text/css">

</style>
			</div>
		</div>
		
<style>#gmap_canvas img{max-width:none!important;background:none!important}</style>
		<script type='text/javascript'>
function init_map(x,y,z){
	var myOptions = {center: myCenter,
		zoom:15,center:new google.maps.LatLng(x,y),mapTypeId: google.maps.MapTypeId.MAP};
		var myCenter = new google.maps.LatLng(x, y); 

		map = new google.maps.Map(document.getElementById('gmap_canvas'), myOptions);

		marker = new google.maps.Marker({position: myCenter, map: map});

		infowindow = new google.maps.InfoWindow({content:z});

		google.maps.event.addListener(marker, 'click', function(){infowindow.open(map,marker);});

		infowindow.open(map,marker);}
</script>
</body>
</html>